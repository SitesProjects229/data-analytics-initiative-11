import { uniform } from "three/tsl";
var accumulatedTimeCache = /* @__PURE__ */ new WeakMap();
const createAnimatedTime = (params, speedUniform, seedUniform) => {
	let accumulatedTime = accumulatedTimeCache.get(speedUniform);
	if (!accumulatedTime) {
		accumulatedTime = uniform(0);
		accumulatedTimeCache.set(speedUniform, accumulatedTime);
	}
	params.onBeforeRender(({ deltaTime }) => {
		accumulatedTime.value += deltaTime * speedUniform.uniform.value;
	});
	if (seedUniform) return accumulatedTime.add(seedUniform.uniform);
	return accumulatedTime;
};
export { createAnimatedTime as t };
